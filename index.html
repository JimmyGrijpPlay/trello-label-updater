<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Change Label-Id of any card</title>
    <script src="https://p.trellocdn.com/power-up.min.js"></script>
    <style>
      body {
        padding: 1rem;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      }
      .container {
        max-width: 500px;
        margin: 0 auto;
      }
      .form-group {
        margin-bottom: 1rem;
      }
      label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
      }
      select, input {
        width: 100%;
        padding: 0.5rem;
        margin-bottom: 1rem;
        border: 1px solid #ccc;
        border-radius: 3px;
      }
      button {
        background: #0079BF;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 3px;
        cursor: pointer;
      }
      button:hover {
        background: #026AA7;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Change Label-Id of any card</h1>
      <div class="form-group">
        <label for="currentLabel">Current Label:</label>
        <select id="currentLabel"></select>
      </div>
      <div class="form-group">
        <label for="newLabelId">New Label ID:</label>
        <input type="text" id="newLabelId" placeholder="Enter new label ID">
      </div>
      <button id="updateLabel">Update Label</button>
    </div>
    <script src="https://jimmygrijpplay.github.io/trello-label-updater/js/client.js"></script>
    <script>
      var t = window.TrelloPowerUp.iframe();
      
      // Laad de huidige labels van de kaart
      t.card('labels')
        .then(function(card) {
          var select = document.getElementById('currentLabel');
          card.labels.forEach(function(label) {
            var option = document.createElement('option');
            option.value = label.id;
            option.text = label.name || label.color;
            select.appendChild(option);
          });
        });

      // Update label knop
      document.getElementById('updateLabel').addEventListener('click', function() {
        var currentLabel = document.getElementById('currentLabel').value;
        var newLabelId = document.getElementById('newLabelId').value;
        
        if (currentLabel && newLabelId) {
          // Hier komt de code om het label te updaten
          console.log('Updating label:', currentLabel, 'to:', newLabelId);
          t.closePopup();
        }
      });
    </script>
  </body>
</html> 
